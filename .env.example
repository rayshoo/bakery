########################################
# 1) Common
########################################
S3_ENDPOINT=s3.amazonaws.com
S3_REGION=<s3 region>
S3_BUCKET=<s3 bucket name>
#S3_ACCESS_KEY=
#S3_SECRET_KEY=
S3_SSL=true
CONTROLLER_URL=https://<public controller server host>:<port>

########################################
# 2) Server Only
########################################
AWS_REGION=<controller server aws region>

BUILD_TASK_TIMEOUT=10m
BUILD_RESULT_TIMEOUT=10m

DEFAULT_BUILD_CPU=0.5
DEFAULT_BUILD_MEMORY=2G

ECS_CLUSTER=<ecs cluster name>
ECS_SUBNETS=<ecs subnets>
ECS_SECURITY_GROUPS=<ecs agent security groups. seprate with comma>
ECS_EXEC_ROLE_ARN=arn:aws:iam::<account-id>:role/<role-name>
ECS_TASK_ROLE_ARN=arn:aws:iam::<account-id>:role/<role-name>
ECS_LOG_GROUP=<cloudwatch log group>

K8S_SERVICE_ACCOUNT_NAME=build-agent
K8S_CONFIG_PATH=

AGENT_TASK_FAMILY=build-agent
AGENT_IMAGE=docker.io/rayshoo/bakery-agent:v1.0.1
# Optional: Only required when pulling the agent image from a private registry.
# If the agent image is public (e.g. Docker Hub), leave these unset.
#AGENT_IMAGE_SECRET_ARN=arn:aws:secretsmanager:<region>:<account-id>:secret:<secret-id>

# Optional: If AGENT_IMAGE_SECRET_ARN is not provided, the server creates a new secret using the credentials below and logs the ARN.
#AGENT_IMAGE_SECRET_NAME=<secrets manager secret name>
#AGENT_IMAGE_SECRET_USERNAME=<agent image pull username>
#AGENT_IMAGE_SECRET_PASSWORD=<agent image pull password>

CLEANUP_ECS_TASK_DEFINITIONS=true

K8S_NAMESPACE=<k8s namespace>

########################################
# 3) Client Only
########################################
#TMPDIR=
#S3_SESSION_TOKEN=

# simple or json
LOG_FORMAT=simple

########################################
# 4) Build
########################################
IMAGE_NAME=docker.io/rayshoo/bakery
IMAGE_TAG=v1.0.1